{% extends "layout.html" %} {% block body %}

<h1>My To-Do List</h1>
<form action="/add" method="POST">
  <input autofocus type="text" name="task" placeholder="Enter Task" />
  <button type="submit">Submit Task</button>
</form>
<h3>Uncompleted Tasks</h3>
<ul>
  {% for t in pending %}
  <li>
    <form
      action="{{ url_for('toggle_task_state', id=t['id'])}}"
      method="POST"
      style="display: inline"
    >
      <input type="hidden" name="completed" value="1" />
      <input type="checkbox" onchange="this.form.submit()" />
      {{ t["title"] }}
    </form>
  </li>
  {% else %}
  <li>No Tasks Yet.</li>
  {% endfor %}
</ul>
<h3>Completed Tasks</h3>
<ul>
  {% for t in done %}
  <li>
    <form
      action="{{ url_for('toggle_task_state', id=t['id'])}}"
      method="POST"
      style="display: inline"
    >
      <input type="hidden" name="completed" value="1" />
      <input type="checkbox" onchange="this.form.submit()" />

      {{ t["title"] }}
    </form>
  </li>
  {% else %}
  <li>No Finished Tasks.</li>
  {% endfor %}
</ul>

{% endblock %}
